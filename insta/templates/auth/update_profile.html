{% extends 'main/base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
<style>
  .col-md-3{
    border-style: solid;
    border-color: lightgray;
    border-right: none;
    border-radius: 5px;
    border-width: thin;
    
  }
  .col-md-8{
    border-style: solid;
    border-color: lightgrey; 
    border-radius: 5px;
    border-width: thin;
  }
  .flex{
    display: flex;
  }
  a[href]{
    text-decoration: none;
  }
</style>

<div class="container">
<div class="container pt-3">
  <div class="row">
    <div class="col-md-3">
      <ul class="nav" id="my" role="tablist">
      <li>
        <a href="#edit_profile" class="nav-link text-monospace font-weight-bold"data-toggle="tab" role="tab" aria-controls="posts" aria-selected="">
          Edit profile
        </a>
      </li>
      <li>
        <a href="#deleteprofile" class="nav-link text-monospace font-weight-bold"data-toggle="tab" role="tab" aria-controls="posts" aria-selected="">
          Delete Account
        </a>
      </li>
      </ul>
    </div>
    <div class="col-md-8">
      <div class="flex">
      <div>
        <img src="{{user.profile.profile_pic.url}}" class="rounded-circle border" alt="img" width="80" height="80">
      </div>
      <div>
        <h2 class="text-monospace ml-3 pt-2"><small><strong>{{user.username}}</strong></small></h2>
      </div>
      </div>
      <hr>

      <div class="tab-content" id="myContent">
          <div class="tab-pane fade show active " id="edit_profile" role="tabpanel">
              <div class="tab-content" id="myContent">
                  <div class="tab-pane fade show active " id="edit_profile" role="tabpanel">
                      <form action="" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <fieldset class="form-group">
                          <label for="" class="border-bottom mb-4 text-center">Edit profile</label>
                          {{u_form | crispy}}
                          {{p_form | crispy}}
                        </fieldset>
                        <div class="form-group">
                          <button class="btn btn-outline-info" type="submit">Update</button>
                        </div>
                      </form>  
                  </div>
                 </div>  
          </div>
         </div>

         <div class="tab-content" id="myContent">
          <div class="tab-pane fade show active " id="deleteprofile" role="tabpanel">
              <div class="tab-content" id="myContent">
                <div class="tab-pane fade show active " id="deleteprofile" role="tabpanel">
                  {% include 'auth/passwordreset.html' %}
                </div>
                </div>  
          </div>
         </div>
    </div>
  </div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
{% endblock %}